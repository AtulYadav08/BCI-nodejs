<!DOCTYPE html><html><head><title>BCI Email Service</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px;background-color:#f5f5f5}.container{background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}h1{color:#333;text-align:center}h2{color:#666}.section{margin-bottom:30px;padding:20px;border:1px solid #ddd;border-radius:5px}.form-group{margin-bottom:15px}label{display:block;margin-bottom:5px;font-weight:bold}input,select{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}button{background:#007bff;color:white;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;margin-right:10px}.result{margin-top:15px;padding:10px;border-radius:4px}.success{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}</style></head><body><div class="container"><h1> BCI Email Service</h1><p style="text-align:center;color:#666">Comprehensive Email Testing Interface</p><div class="section"><h2>Quick Tests</h2><button onclick="runAllTests()">Run All Email Tests</button><button onclick="checkHealth()">Check Service Health</button><div id="quickTestResult"></div></div><div class="section"><h2> Appointment Booking</h2><form id="appointmentForm"><div class="form-group"><label for="name">Name:</label><input type="text" id="name" name="name" required></div><div class="form-group"><label for="email">Email:</label><input type="email" id="email" name="email" required></div><button type="submit">Book Appointment</button></form><div id="appointmentResult"></div></div></div><script>function showResult(elementId,message,isSuccess=true){document.getElementById(elementId).innerHTML=`<div class="result ${isSuccess?"success":"error"}">${message}</div>`}document.getElementById("appointmentForm").addEventListener("submit",async(e)=>{e.preventDefault();const formData=new FormData(e.target);const data=Object.fromEntries(formData);try{const response=await fetch("/book",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(data)});const result=await response.text();showResult("appointmentResult",result,response.ok)}catch(error){showResult("appointmentResult","Error: "+error.message,false)}});async function runAllTests(){const resultDiv=document.getElementById("quickTestResult");try{const response=await fetch("/api/test-emails");const result=await response.json();if(result.success){let html="<div class=\"result success\"><h4> All Tests Completed Successfully!</h4>";result.results.forEach(test=>{const status=test.result.success?"":"";html+=`<p><strong>${test.test}:</strong> ${status} ${test.result.message}</p>`});html+="</div>";resultDiv.innerHTML=html}else{resultDiv.innerHTML=`<div class="result error"> Tests failed: ${result.message}</div>`}}catch(error){resultDiv.innerHTML=`<div class="result error"> Error: ${error.message}</div>`}}async function checkHealth(){const resultDiv=document.getElementById("quickTestResult");try{const response=await fetch("/api/health");const result=await response.json();resultDiv.innerHTML=`<div class="result success"><h4> Service Health Check</h4><p><strong>Status:</strong> ${result.status}</p><p><strong>Service:</strong> ${result.service}</p><p><strong>Version:</strong> ${result.version}</p><p><strong>Timestamp:</strong> ${result.timestamp}</p></div>`}catch(error){resultDiv.innerHTML=`<div class="result error"> Health check failed: ${error.message}</div>`}}</script></body></html>
